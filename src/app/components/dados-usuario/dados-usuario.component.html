<div class="profile-container">
  <div class="profile-header">
    <div class="profile-picture">
      <span class="picture-placeholder">Foto</span>
    </div>
    <h1 class="welcome-message">Bem-vindo, {{ usuarioLogado?.nome }}</h1>
  </div>
  <div class="profile-content">
    <div class="user-details">
      <h2 class="section-title">Meus Dados</h2>
      <div class="form-container">
        <mat-card>
          <mat-card-content>
            <form [formGroup]="formGroup" class="form-grid">
              <div class="form-field">
                <div class="dados-usuario">
                  <div class="item-dado">
                    <label for="nome">Nome: &nbsp;</label>
                    <input
                      type="text"
                      id="nome"
                      value="{{ usuarioLogado?.nome }}"
                      disabled
                    />
                    <button
                      mat-button
                      [routerLink]="[
                        '/usuarios/edit/',
                        usuarioLogado?.id,
                        'nome'
                      ]"
                    >
                      Editar
                    </button>
                  </div>
                </div>
              </div>
              <div class="form-field">
                <div class="item-dado">
                  <label for="login">Login: &nbsp;</label>
                  <input
                    type="text"
                    id="login"
                    value="{{ usuarioLogado?.login }}"
                    disabled
                  />
                  <button
                    mat-button
                    [routerLink]="[
                      '/usuarios/edit/',
                      usuarioLogado?.id,
                      'login'
                    ]"
                  >
                    Editar
                  </button>
                </div>
              </div>
              <div class="form-field">
                <div class="item-dado">
                  <label for="senha">Senha: &nbsp;</label>
                  <button
                    mat-button
                    [routerLink]="[
                      '/usuarios/edit/',
                      usuarioLogado?.id,
                      'senha'
                    ]"
                  >
                    Editar
                  </button>
                </div>
              </div>
              <div class="form-field">
                <div class="item-dado">
                  <label for="email">Email: &nbsp;</label>
                  <input
                    type="email"
                    id="email"
                    value="{{ usuarioLogado?.email }}"
                    disabled
                  />
                  <button
                    mat-button
                    [routerLink]="[
                      '/usuarios/edit/',
                      usuarioLogado?.id,
                      'email'
                    ]"
                  >
                    Editar
                  </button>
                </div>
              </div>
              <div class="form-field">
                <div class="item-dado">
                  <label for="cpf">CPF: &nbsp;</label>
                  <input
                    type="text"
                    id="cpf"
                    value="{{ usuarioLogado?.cpf }}"
                    disabled
                  />
                  <button
                    mat-button
                    [routerLink]="['/usuarios/edit/', usuarioLogado?.id, 'cpf']"
                  >
                    Editar
                  </button>
                </div>
              </div>
            </form>
            <form [formGroup]="formTelefone" class="form-grid">
              <div
                class="form-field telefone-fields"
                formArrayName="listaTelefone"
              >
                <div
                  *ngFor="let telefone of listaTelefone.controls; let i = index"
                  [formGroupName]="i"
                >
                  <mat-form-field appearance="fill" class="small-input">
                    <mat-label>DDD</mat-label>
                    <input matInput formControlName="codigoArea" />
                  </mat-form-field>
                  <mat-form-field appearance="fill" class="full-width-input">
                    <mat-label>Número</mat-label>
                    <input matInput formControlName="numero" />
                  </mat-form-field>
                </div>
              </div>
              <div class="telefone-button-container">
                <button
                  mat-raised-button
                  color="primary"
                  (click)="addTelefone()"
                >
                  Adicionar Telefone
                </button>
                <button
                  mat-raised-button
                  color="warn"
                  (click)="removeTelefone()"
                >
                  Remover Telefone
                </button>
              </div>
              <button
                mat-raised-button
                color="primary"
                (click)="showSenhaField()"
              >
                Salvar Telefones
              </button>
              <div *ngIf="showSenhaAtualField">
                <mat-form-field appearance="fill">
                  <mat-label>Senha Atual</mat-label>
                  <input
                    matInput
                    formControlName="senhaAtual"
                    type="password"
                  />
                </mat-form-field>
                <button
                  mat-raised-button
                  color="primary"
                  (click)="salvarTelefones()"
                  style="margin-left: 15px"
                >
                  Confirmar Alteração
                </button>
              </div>
            </form>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
    <div class="saved-addresses" *ngIf="showAddresses">
      <h2 class="section-title">ENDEREÇOS CADASTRADOS</h2>
      <div *ngFor="let endereco of enderecos" class="address">
        <p>
          {{ endereco.logradouro }}, {{ endereco.numero }},
          {{ endereco.bairro }}, {{ endereco.cep }}
        </p>
        <p>{{ endereco.complemento }}</p>
        <p>{{ endereco.nomeCidade }} - {{ endereco.nomeEstado }}</p>
        <button mat-button [routerLink]="['/meus-enderecos/edit', endereco.id]">
          Editar
        </button>
        <button mat-button color="warn" (click)="deletarEndereco(endereco.id)">
          Deletar
        </button>
      </div>
      <button class="toggle-button" (click)="irEndereco()">
        Adicionar Endereço
      </button>
    </div>
  </div>
  <button class="toggle-button" id="buttonEndereco" (click)="toggleAddresses()">
    Meus Endereços
  </button>

  <button class="toggle-button" id="buttonPedido" (click)="irPedidos()">
    Meus Pedidos
  </button>
</div>
